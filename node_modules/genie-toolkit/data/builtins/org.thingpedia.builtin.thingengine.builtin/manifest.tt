class @org.thingpedia.builtin.thingengine.builtin extends @org.thingpedia.volume-control
#_[thingpedia_name="Miscellaneous Interfaces"]
#_[thingpedia_description="Time, random numbers, and other commands not specific to any skill."]
#_[name="Miscellaneous Interfaces"]
#_[description="Time, random numbers, and other commands not specific to any skill."]
#_[canonical="miscellaneous interfaces"]
#_[help="I can give you the current date and time, pick random numbers, and help you set various preferences."]
#[repository="https://github.com/stanford-oval/genie-toolkit"]
#[subcategory="service"]
#[license="Apache-2.0"]
#[license_gplcompatible=true] {
  import loader from @org.thingpedia.builtin();

  import config from @org.thingpedia.config.builtin();

  monitorable query get_gps(out location : Location
                            #_[canonical={
                              default="preposition",
                              base=["coordinates"],
                              preposition=["in #", "at #", "around #"]
                            }],
                            out altitude : Measure(m)
                            #_[canonical={
                              default="base",
                              base=["altitude"],
                              preposition=["at # above sea level"]
                            }]
                            #[min_number=0m]
                            #[max_number=15000m],
                            out bearing : Number
                            #_[canonical={
                              base=["bearing"],
                              passive_verb=["facing #"]
                            }],
                            out speed : Measure(mps)
                            #_[canonical={
                              base=["speed"],
                              passive_verb=["going at #", "moving at #"],
                              preposition=["at #"]
                            }])
  #_[canonical=["my current location", "my current position", "my current geocoordinates"]]
  #_[result=["your current location is ${location}", "you are currently in ${location}"]]
  #_[on_error={
    unsupported_platform=["i cannot access your location in this version of Genie"]
  }]
  #[minimal_projection=["location"]]
  #[poll_interval=0ms]
  #[doc="get last known GPS location"]
  #[confirm=false];

  query get_time(out time : Time
                 #_[canonical=["time"]]
                 #[filterable=false])
  #_[canonical=["current time", "time", "time of day"]]
  #_[result=["right now, it's ${time}", "it's ${time}", "the current time is ${time}"]]
  #[doc="get the current time"]
  #[confirm=false]
  #[minimal_projection=[]];

  query get_date(out date : Date
                 #_[canonical=["date"]]
                 #[filterable=false])
  #_[canonical=["today 's date", "date", "current date"]]
  #_[confirmation="today's date"]
  #_[result=["today is ${date}-absolute."]]
  #[doc="get the current date"]
  #[confirm=false]
  #[minimal_projection=[]];

  query get_random_between(in opt low : Number
                           #_[canonical={
                             base=["lower bound", "minimum number"],
                             passive_verb=["higher than #", "more than #"]
                           }],
                           in opt high : Number
                           #_[canonical={
                             base=["upper bound", "maximum number"],
                             passive_verb=["higher than #", "more than #"]
                           }],
                           out random : Number
                           #_[canonical={
                             base=["number", "result"]
                           }]
                           #[filterable=false])
  #_[canonical=["random number", "random integer"]]
  #_[result=["${random}", "your number is ${random}", "i chose ${random}"]]
  #_[confirmation="a random integer between $low and $high"]
  #[doc="get a uniform random integer between `low` and `high`"]
  #[confirm=false]
  #[minimal_projection=[]];

  query get_name(out name : String
                 #_[canonical=["name"]]
                 #[string_values="tt:person_first_name"]
                 #[filterable=false])
  #_[canonical=["my name", "user 's name"]]
  #_[result=["your name is ${name}", "you are ${name}"]]
  #_[on_error={
    unset=["i do not know your name yet . would you like to tell me ?", "you have not told me your name yet"]
  }]
  #_[confirmation="your name"]
  #[doc="get the user's preferred name (a setting)"]
  #[confirm=false]
  #[minimal_projection=[]];

  query device_info(in req id : Entity(tt:device)
                    #_[canonical={
                      base=["name"],
                      passive_verb=["named #", "called #"]
                    }],
                    out help : String
                    #_[canonical={
                      base=["help", "documentation"]
                    }]
                    #[string_values="tt:long_free_text"]
                    #[filterable=false],
                    out description : String
                    #_[canonical={
                      base=["description"]
                    }]
                    #[string_values="tt:long_free_text"]
                    #[filterable=false],
                    out category : Enum(service, media, social_network, communication, home, health, data_management)
                    #_[canonical={
                      base=["category"],
                      adjective=["#"],
                      preposition=["in the # category"]
                    }],
                    out thingpedia_url : Entity(tt:url)
                    #_[canonical={
                      base=["thingpedia page", "thingpedia link"]
                    }]
                    #[filterable=false],
                    out website : Entity(tt:url)
                    #_[canonical={
                      base=["website", "link", "url"]
                    }]
                    #[filterable=false],
                    out issue_tracker : Entity(tt:url)
                    #_[canonical={
                      base=["issue tracking website", "bug report url"]
                    }]
                    #[filterable=false])
  #_[canonical=["information about a device", "information about a skill", "information about a thingpedia device", "information about a supported skill", "help about a skill", "skill help", "skill documentation", "help with a skill"]]
  #_[result=["with ${id} , ${help} . visit the thingpedia page for additional information", "the description of ${id} is ${description} . visit the thingpedia page for additional information"]]
  #_[formatted=[{
    type="rdl",
    displayTitle="${id}",
    webCallback="${thingpedia_url}"
  }]]
  #[doc="query info about supported Thingpedia devices"]
  #[minimal_projection=[]]
  #[confirm=false];

  list query configured_device_info(out id : Entity(tt:device_id)
                                    #_[canonical={
                                      base=["name"],
                                      passive_verb=["named #", "called #"]
                                    }],
                                    out description : String
                                    #_[canonical={
                                      base=["description"]
                                    }]
                                    #[string_values="tt:long_free_text"]
                                    #[filterable=false],
                                    out kind : Entity(tt:device)
                                    #_[canonical={
                                      base=["kind"],
                                      adjective=["#"],
                                      preposition=["in the # kind"]
                                    }],
                                    out version : Number
                                    #_[canonical={
                                      base=["version"],
                                      passive_verb=["version #"]
                                    }],
                                    out category : Enum(physical, online, data, system)
                                    #_[canonical={
                                      base=["category"],
                                      adjective=["#"],
                                      preposition=["in the # category"]
                                    }],
                                    out is_transient : Boolean
                                    #_[canonical={
                                      base=["is transient"]
                                    }],
                                    out auth_type : String
                                    #_[canonical={
                                      base=["authentication type"]
                                    }]
                                    #[filterable=false])
  #_[canonical=["information about configured devices", "information about configured entities", "configured devices", "configured entities", "device list", "entity list", "iot devices", "iot entities"]]
  #_[result={
    list ="You have ${id}"
  }]
  #[doc="query info about configured devices"]
  #[minimal_projection=[]]
  #[confirm=false];

  action open_url(in req url : Entity(tt:url)
                  #_[prompt=["what url do you want to open", "what do you want to open"]]
                  #_[canonical={
                    base=["url", "link", "page"],
                    preposition=["to #"]
                  }])
  #_[canonical=["open a url", "open a link"]]
  #_[on_error={
    unsupported_platform=["opening files is not possible in this version of Genie"]
  }]
  #[doc="open a file/link"]
  #[confirm=false]
  #[minimal_projection=[]];

  action say(in req message : String
             #_[prompt="what would you like me to say"]
             #_[canonical="message"]
             #[string_values="tt:long_free_text"],
             out message_output : String
             #_[canonical="message"])
  #_[result="${message_output}"]
  #_[formatted=[{
    type="sound",
    name="alarm-clock-elapsed",
    exclusive=false,
    before=true
  }]]
  #_[canonical="say"]
  #[doc="makes Genie say something"]
  #[confirm=false]
  #[minimal_projection=[]];

  action alert(out time : Time
               #_[canonical=["time"]])
  #_[result="It is ${time}"]
  #_[formatted=[{
    type="sound",
    name="alarm-clock-elapsed",
    exclusive=false,
    before=true
  }]]
  #_[canonical="alert"]
  #[doc="makes Genie show/play a generic alert"]
  #[confirm=false]
  #[minimal_projection=[]];

  action timer_expire(out duration : Measure(ms)
                      #_[canonical="duration"])
  #_[result="It has been ${duration}"]
  #_[formatted=[{
    type="sound",
    name="alarm-clock-elapsed",
    exclusive=false,
    before=true
  }]]
  #_[canonical="timer expire"]
  #[doc="makes Genie play a generic alert and show/say the elapsed time"]
  #[confirm=false]
  #[minimal_projection=[]];

  action debug_log(in req message : String
                   #_[prompt=["what should i write in the logs", "what do you want me to write"]]
                   #_[canonical="message"]
                   #[string_values="tt:long_free_text"])
  #_[canonical=["log a message", "record a message", "write a message in the logs"]]
  #_[confirmation="write $message in the developer logs"]
  #[doc="log a message in the developer logs"]
  #[confirm=false]
  #[minimal_projection=[]];

  action faq_reply(in req question : Enum(about_almond_identity, about_almond_age, about_almond_how_are_you, about_almond_special, about_almond_motivation, about_almond_location, about_almond_comparison, about_almond_comparison_general, about_almond_training, about_almond_partner, about_almond_junk, about_almond_preference, about_almond_thingpedia, about_almond_interest, about_almond_registration, check_capability_home_assistant, check_capability_phone, check_capability_music_platform, general_help, iot_help, command_help, positive_emotion_thanks, positive_emotion_cool, negative_emotion_empathy, abusive, revoke_consent, how_to_train, how_to_configure_skill, how_to_disable_skill, how_to_set_language, how_to_access_settings, how_to_use_wakeword, how_to_report_bug, how_to_show_general_examples, how_to_show_home_assistant_examples, troubleshooting_home_assistant)
                   #_[prompt="what would you like to know"]
                   #_[canonical="message"],
                   out reply : String
                   #_[canonical=["reply", "answer"]])
  #_[result="${reply}"]
  #_[canonical="ask question about Genie"]
  #_[confirmation="reply to $question"]
  #[doc="asks a question about Genie"]
  #[confirm=false]
  #[minimal_projection=[]];

  action configure(in req device : Entity(tt:device)
                   #_[prompt="what device do you want to configure"])
  #_[canonical=["configure a new skill", "enable a new skill"]]
  #_[on_error={
    unsupported_skill=["i do not know ${device} yet", "${device} is not supported yet"],
    unsupported_platform=["you need to go to the configure new skill page to enable new skills"]
  }]
  #_[confirmation="configure a new $device"]
  #[doc="configure a specific device by type"]
  #[confirm=false]
  #[minimal_projection=[]];

  action set_language(in req language : Entity(tt:iso_lang_code)
                      #_[canonical={
                        base=["language"],
                        preposition=["to #"]
                      }])
  #_[canonical=["set the language", "change the language", "set the assistant language", "set the language of the assistant"]]
  #_[on_error={
    unsupported_language=["${language} is not supported yet", "i do not support ${language} yet"],
    unsupported_platform_cloud=["you need to go to the user profile page to change the language"]
  }]
  #_[confirmation="set the language to $language"]
  #[doc="change the assistant language (not supported on all platforms)"]
  #[confirm=false]
  #[minimal_projection=[]];

  action set_timezone(in req timezone : Entity(tt:timezone)
                      #_[canonical={
                        base=["time zone"],
                        preposition=["to #"]
                      }])
  #_[canonical=["set the time zone", "change the time zone", "set the time zone of the assistant"]]
  #_[on_error={
    unsupported_platform=["i cannot change the time zone on this system . use the system settings to change my timezone"],
    unsupported_platform_cloud=["you need to go to the user profile page to change the time zone"]
  }]
  #_[confirmation="set the time zone to $timezone"]
  #[doc="change the assistant time zone (not supported on all platforms)"]
  #[confirm=false]
  #[minimal_projection=[]];

  action set_wake_word(in req word : String
                       #_[canonical={
                         base=["word"],
                         preposition=["to #"]
                       }]
                       #[string_values="tt:word"])
  #_[canonical=["set the name of the assistant", "set the wake word", "set the hot word", "change the wake word", "set the assistant name", "change the assistant name"]]
  #_[on_error={
    unsupported=["changing the wake word is not supported yet", "i do not yet support changing my name"]
  }]
  #_[confirmation="set the wake word to $language"]
  #[doc="change the assistant name (wake word) (not supported yet)"]
  #[confirm=false]
  #[minimal_projection=[]];

  action set_voice_output(in req status : Enum(on, off)
                          #_[canonical={
                            base=["status", "preference"],
                            preposition=["to #"]
                          }])
  #_[canonical=["change the voice output setting"]]
  #_[on_error={
    unsupported=["voice output is not supported on this platform"]
  }]
  #_[confirmation="turn ${status} voice output"]
  #[doc="turn on or off voice output"]
  #[confirm=false]
  #[minimal_projection=[]];

  action set_voice_input(in req status : Enum(on, off)
                         #_[canonical={
                           base=["status", "preference"],
                           preposition=["to #"]
                         }])
  #_[canonical=["change the voice input setting"]]
  #_[on_error={
    unsupported=["voice input is not supported on this platform"]
  }]
  #_[confirmation="turn ${status} voice input"]
  #[doc="turn on or off voice input"]
  #[confirm=false]
  #[minimal_projection=[]];

  action set_name(in req name : String
                  #_[canonical={
                    base=["name"],
                    preposition=["to #"]
                  }]
                  #[string_values="tt:person_first_name"])
  #_[canonical=["change my name", "set my name"]]
  #_[confirmation="change your name to ${name}"]
  #[doc="change the user's preferred name (a setting)"]
  #[confirm=false]
  #[minimal_projection=[]];

  action set_location(in opt type : Enum(current, home, work)
                      #_[prompt="what type of location would you like to change"]
                      #[default=enum current],
                      in req location : Location
                      #_[canonical={
                        base=["location", "place", "address"],
                        preposition=["to #", "as #"]
                      }])
  #_[canonical=["set my location", "set my address", "remember my location", "configure my location"]]
  #_[confirmation="change your ${type} location to ${name}"]
  #[doc="change the user's preferred locations (a setting)"]
  #[confirm=false]
  #[minimal_projection=[]];

  action set_temperature_unit(in req unit : Enum(celsius, fahrenheit, kelvin)
                              #_[prompt="what unit should i use"]
                              #_[canonical={
                                base=["unit"],
                                preposition=["to #", "as #"]
                              }])
  #_[canonical=["set my preferred temperature unit", "change the temperature unit", "set the default temperature unit"]]
  #[doc="change the user's preferred temperature unit (a setting)"]
  #[confirm=false]
  #[minimal_projection=[]];

  action stop()
  #_[canonical=["stop audio", "stop playing", "stop playback"]]
  #[doc="pause the currently playing skill"]
  #[confirm=false]
  #[minimal_projection=[]];

  action pause()
  #_[canonical=["pause", "pause audio", "pause playback", "pause playing"]]
  #[doc="pause the currently playing skill"]
  #[confirm=false]
  #[minimal_projection=[]];

  action resume()
  #_[canonical=["resume", "resume audio", "resume playback", "resume playing", "start playing again", "continue playback", "continue playing"]]
  #_[on_error={
    unsupported=["the current skill does not support resuming audio. please report this issue to the skill developer."],
    no_device_playing=["nothing is currently playing yet. to play music, you can say play music."]
  }]
  #[doc="resume the currently playing skill"]
  #[confirm=false]
  #[minimal_projection=[]];
}